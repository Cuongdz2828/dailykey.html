<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Key Free Hôm Nay</title>
  <style>
    body {
      margin:0; padding:0; font-family:Arial, sans-serif;
      background:#0f2027; background:linear-gradient(120deg,#2c5364,#203a43,#0f2027);
      color:#fff; display:flex; justify-content:center; align-items:center;
      height:100vh; flex-direction:column; text-align:center;
    }
    .key { font-size:28px; font-weight:bold; margin:20px 0; color:#8ef0ff; }
    button { padding:10px 20px; font-size:16px; cursor:pointer; border-radius:8px; border:none; background:#79d2ff; color:#000; }
  </style>
</head>
<body>
  <h1>🔑 Key Free Hôm Nay</h1>
  <p id="info">Đang tạo key...</p>
  <div id="key" class="key">...</div>
  <button onclick="copyKey()">📋 Copy Key</button>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
  <script>
    // Secret phải trùng với Python
    const SECRET = "MY_SECRET_SALT";

    // Sinh userID theo thông tin thiết bị (userAgent + kích thước màn hình)
    const user = CryptoJS.MD5(
      navigator.userAgent + screen.width + "x" + screen.height
    ).toString().substring(0,8);  // rút gọn ID cho gọn

    // Sinh key theo ngày + user
    function makeKey() {
      const today = new Date().toISOString().slice(0,10);
      return CryptoJS.MD5(today + SECRET + user)
               .toString()
               .substring(0,10)
               .toUpperCase();
    }

    const key = makeKey();
    document.getElementById("key").innerText = key;
    document.getElementById("info").innerText = "User ID: " + user;

    function copyKey(){
      navigator.clipboard.writeText(key).then(()=>{
        alert("✅ Key đã copy: " + key);
      });
    }
  </script>
</body>
</html>
